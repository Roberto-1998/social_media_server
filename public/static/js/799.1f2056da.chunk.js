"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[799],{2878:function(e,t,n){var r=n(7498),s=n(8618),a=n(9753),o=n(5911),c=(n(2791),n(184));t.Z=function(e){var t=e.error,n=e.status,i=e.title;return(0,c.jsxs)(r.b,{status:n,children:[(0,c.jsx)(s.z,{}),(0,c.jsx)(a.C,{children:i}),(0,c.jsx)(o.X,{children:t})]})}},8021:function(e,t,n){var r=n(2893),s=(n(2791),n(8820)),a=n(184);t.Z=function(e){var t=e.value;return(0,a.jsxs)(r.U,{spacing:"2px",children:[(0,a.jsx)(s.pHD,{w:"14px",color:"#E19E73"}),(0,a.jsx)(s.pHD,{w:"14px",color:t>=2?"#E19E73":"#EBEFF3"}),(0,a.jsx)(s.pHD,{w:"14px",color:t>=3?"#E19E73":"#EBEFF3"}),(0,a.jsx)(s.pHD,{w:"14px",color:t>=4?"#E19E73":"#EBEFF3"}),(0,a.jsx)(s.pHD,{w:"14px",color:t>=5?"#E19E73":"#EBEFF3"})]})}},2799:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var r=n(2791),s=n(2128),a=n(1413),o=n(5987),c=n(2952),i=n(7872),u=n(184),p=["axis"],l=(0,c.m)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});l.displayName="Center";var d={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}},f=((0,i.G)((function(e,t){var n=e.axis,r=void 0===n?"both":n,s=(0,o.Z)(e,p);return(0,u.jsx)(c.m.div,(0,a.Z)((0,a.Z)({ref:t,__css:d[r]},s),{},{position:"absolute"}))})),n(176)),x=n(9229),h=n(1295),g=n(751),m=n(1252),v=n(4087),j=n(3790),w=n(5515),y=n(3466),b=n(7377),Z=n(2435),k=n(4363),E=n(3853),C=n(1087),z=n(9434),S=n(1449),F=n(8021),I=function(e){var t=e.rating,n=e.numberOfReviews;return(0,u.jsxs)(f.k,{children:[(0,u.jsx)(F.Z,{value:t}),(0,u.jsx)(x.x,{fontSize:"md",fontWeight:"bold",ml:"4px",children:"".concat(n," ").concat(1===n?"Review":"Reviews")})]})},H=function(e){var t=e.product,n=(0,z.I0)(),r=(0,h.p)(),s=(0,z.v9)((function(e){return e.cart})).cart;return(0,u.jsxs)(g.K,{p:2,spacing:"3px",bg:(0,m.ff)("white","gray.800"),minW:"240px",h:"400px",borderWidth:"1px",rounded:"lg",shadow:"lg",position:"relative",children:[t.productIsNew&&(0,u.jsx)(v.Cd,{size:"10px",position:"absolute",top:2,right:2,bg:"green.300"}),t.stock<=0&&(0,u.jsx)(v.Cd,{size:"10px",position:"absolute",top:2,right:2,bg:"red.300"}),(0,u.jsx)(j.E,{src:t.image,alt:t.name,roundedTop:"lg"}),(0,u.jsxs)(v.xu,{flex:"1",maxH:"5",alignItems:"baseline",children:[t.stock<=0&&(0,u.jsx)(w.C,{rounded:"full",px:"2",fontSize:"0.8em",colorScheme:"red",children:"Sold out"}),t.productIsNew&&(0,u.jsx)(w.C,{rounded:"full",px:"2",fontSize:"0.8em",colorScheme:"green",children:"New"})]}),(0,u.jsx)(f.k,{mt:"1",justifyContent:"space-between",alignContent:"center",children:(0,u.jsx)(y.r,{as:C.rU,to:"/product/".concat(t._id),pt:"2",cursor:"pointer",children:(0,u.jsx)(v.xu,{fontSize:"2x1",fontWeight:"semibold",lineHeight:"tight",children:t.name})})}),(0,u.jsx)(f.k,{justifyContent:"space-between",alignContent:"center",py:"2",children:(0,u.jsx)(I,{rating:t.rating,numberOfReviews:t.numberOfReviews})}),(0,u.jsxs)(f.k,{justify:"space-between",children:[(0,u.jsxs)(v.xu,{fontSize:"2x1",color:(0,m.ff)("gray.800","white"),children:[Number(t.price).toFixed(2),(0,u.jsx)("span",{children:" "}),(0,u.jsx)(v.xu,{as:"span",color:"gray.600",fontSize:"lg",children:"\u20ac"})]}),t.stock>0?(0,u.jsx)(b.u,{label:"Add to cart",bg:"white",placement:"bottom",color:"gray.800",fontSize:"1em",children:(0,u.jsx)(Z.z,{variant:"ghost",display:"flex",disabled:t.stock<1,onClick:function(){return e=t._id,void(s.some((function(t){return t.id===e}))?r({description:"This item is already in your cart. Go to your cart to change the amount.",status:"error",isClosable:!0}):(n((0,S._7)(e,1)),r({description:"Item has been added. ",status:"success",isClosable:!0})));var e},children:(0,u.jsx)(k.J,{as:E.Qyq,h:6,w:6,alignSelf:"end"})})}):null]})]})},_=n(7301),T=n(6550),A=n(2878),B=function(){var e=(0,z.I0)(),t=(0,z.v9)((function(e){return e.products})),n=t.loading,a=t.error,o=t.products;return(0,r.useEffect)((function(){e((0,_.Xp)())}),[e]),(0,u.jsx)(s.E,{spacing:"30px",justify:"center",minHeight:"100vh",children:n?(0,u.jsx)(T.Z,{}):a?(0,u.jsx)(A.Z,{error:a,status:"error",title:"We are sorry!. "}):o.map((function(e){return(0,u.jsx)(s.U,{children:(0,u.jsx)(l,{w:"250px",h:"550px",children:(0,u.jsx)(H,{product:e})})},e._id)}))})}},1449:function(e,t,n){n.d(t,{B8:function(){return i},_7:function(){return c},fh:function(){return u},s9:function(){return p}});var r=n(4165),s=n(5861),a=n(1243),o=n(2038),c=function(e,t){return function(){var n=(0,s.Z)((0,r.Z)().mark((function n(s){var c,i,u;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s((0,o.K4)(!0)),n.prev=1,n.next=4,a.Z.get("/api/products/".concat(e));case 4:c=n.sent,i=c.data,u={id:i._id,name:i.name,image:i.image,price:i.price,stock:i.stock,qty:t},s((0,o.zs)(u)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),s((0,o.sT)(n.t0.response&&n.t0.response.data.message?n.t0.response.data.messsage:n.t0.message?n.t0.message:"An unexpected error has occured. Pleasy try again later."));case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()},i=function(e){return function(){var t=(0,s.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n((0,o.K4)(!0)),n((0,o.gX)(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},u=function(e){return function(){var t=(0,s.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n((0,o.Yo)(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(){return function(e){e((0,o.LL)())}}},7301:function(e,t,n){n.d(t,{Xp:function(){return c},gk:function(){return i},nE:function(){return u},so:function(){return p}});var r=n(4165),s=n(5861),a=n(1243),o=n(613),c=function(){return function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t((0,o.K4)(!0)),e.prev=1,e.next=4,a.Z.get("/api/products");case 4:n=e.sent,s=n.data,t((0,o.RU)(s)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t((0,o.sT)(e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message?e.t0.message:"An unexpected error has occured. Please try again later."));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},i=function(e){return function(){var t=(0,s.Z)((0,r.Z)().mark((function t(n){var s,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n((0,o.K4)(!0)),t.prev=1,t.next=4,a.Z.get("/api/products/".concat(e));case 4:s=t.sent,c=s.data,n((0,o.Gr)(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n((0,o.sT)(t.t0.response&&t.t0.response.data.message?t.t0.response.data.messsage:t.t0.message?t.t0.message:"An unexpected error has occured. Pleasy try again later."));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},u=function(e,t,n,c,i){return function(){var u=(0,s.Z)((0,r.Z)().mark((function s(u,p){var l,d,f;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return u((0,o.K4)(!0)),l=p(),d=l.user.userInfo,r.prev=2,f={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(d.token)}},r.next=6,a.Z.post("/api/products/reviews/".concat(e),{comment:n,userId:t,rating:c,title:i},f);case 6:u((0,o.GX)()),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),u((0,o.sT)(r.t0.response&&r.t0.response.data.message?r.t0.response.data.messsage:r.t0.message?r.t0.message:"An unexpected error has occured. Pleasy try again later."));case 12:case"end":return r.stop()}}),s,null,[[2,9]])})));return function(e,t){return u.apply(this,arguments)}}()},p=function(){return function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t((0,o.q$)());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=799.1f2056da.chunk.js.map