"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[273],{2878:function(e,n,r){var t=r(7498),s=r(8618),i=r(9753),o=r(5911),c=(r(2791),r(184));n.Z=function(e){var n=e.error,r=e.status,a=e.title;return(0,c.jsxs)(t.b,{status:r,children:[(0,c.jsx)(s.z,{}),(0,c.jsx)(i.C,{children:a}),(0,c.jsx)(o.X,{children:n})]})}},8021:function(e,n,r){var t=r(2893),s=(r(2791),r(8820)),i=r(184);n.Z=function(e){var n=e.value;return(0,i.jsxs)(t.U,{spacing:"2px",children:[(0,i.jsx)(s.pHD,{w:"14px",color:"#E19E73"}),(0,i.jsx)(s.pHD,{w:"14px",color:n>=2?"#E19E73":"#EBEFF3"}),(0,i.jsx)(s.pHD,{w:"14px",color:n>=3?"#E19E73":"#EBEFF3"}),(0,i.jsx)(s.pHD,{w:"14px",color:n>=4?"#E19E73":"#EBEFF3"}),(0,i.jsx)(s.pHD,{w:"14px",color:n>=5?"#E19E73":"#EBEFF3"})]})}},7273:function(e,n,r){r.r(n),r.d(n,{default:function(){return R}});var t=r(9439),s=r(7689),i=r(1295),o=r(2128),c=r(4087),a=r(751),u=r(5515),l=r(5946),d=r(9229),p=r(176),x=r(3790),f=r(7377),h=r(6069),m=r(6340),g=r(2435),j=r(9683),v=r(7692),w=r(8820),b=r(6053),k=r(9434),E=r(7301),y=r(1449),Z=r(2791),C=r(6550),F=r(2878),z=r(8021),S=r(2893),D=r(184),B=function(e){var n=e.value,r=e.setRating;return(0,D.jsxs)(S.U,{spacing:"2px",children:[(0,D.jsx)(g.z,{variant:"outline",onClick:function(){return r(1)},children:(0,D.jsx)(w.pHD,{w:"14px",color:"#E19E73"})}),(0,D.jsx)(g.z,{variant:"outline",onClick:function(){return r(2)},children:(0,D.jsx)(w.pHD,{w:"14px",color:n>=2?"#E19E73":"#EBEFF3"})}),(0,D.jsx)(g.z,{variant:"outline",onClick:function(){return r(3)},children:(0,D.jsx)(w.pHD,{w:"14px",color:n>=3?"#E19E73":"#EBEFF3"})}),(0,D.jsx)(g.z,{variant:"outline",onClick:function(){return r(4)},children:(0,D.jsx)(w.pHD,{w:"14px",color:n>=4?"#E19E73":"#EBEFF3"})}),(0,D.jsx)(g.z,{variant:"outline",onClick:function(){return r(5)},children:(0,D.jsx)(w.pHD,{w:"14px",color:n>=5?"#E19E73":"#EBEFF3"})})]})},R=function(){var e=(0,Z.useState)(""),n=(0,t.Z)(e,2),r=n[0],S=n[1],R=(0,Z.useState)(1),W=(0,t.Z)(R,2),H=W[0],I=W[1],K=(0,Z.useState)(""),_=(0,t.Z)(K,2),A=_[0],T=_[1],P=(0,Z.useState)(!1),X=(0,t.Z)(P,2),U=X[0],L=X[1],G=(0,Z.useState)(1),N=(0,t.Z)(G,2),O=N[0],Y=N[1],q=(0,s.UO)().id,$=(0,i.p)(),M=(0,k.I0)(),Q=(0,k.v9)((function(e){return e.products})),V=Q.loading,J=Q.error,ee=Q.product,ne=Q.reviewSend,re=(0,k.v9)((function(e){return e.cart})).cart,te=(0,k.v9)((function(e){return e.user})).userInfo;(0,Z.useEffect)((function(){M((0,E.gk)(q)),ne&&($({description:"Product review saved.",status:"success",isClosable:!0}),M((0,E.so)()),L(!1))}),[M,q,re,ne,$]);var se=function(e){"plus"===e&&Y(O+1),"minus"===e&&Y(O-1)},ie=function(){return ee.reviews.some((function(e){return e.user===te._id}))};return(0,D.jsx)(o.E,{spacing:"30px",justify:"center",minH:"100vh",children:V?(0,D.jsx)(C.Z,{}):J?(0,D.jsx)(F.Z,{error:J,status:"error",title:"We are sorry!. "}):ee&&(0,D.jsxs)(c.xu,{maxW:{base:"3xl",lg:"5xl"},mx:"auto",px:{base:"4",md:"8",lg:"12"},py:{base:"6",md:"8",lg:"12"},children:[(0,D.jsxs)(a.K,{direction:{base:"column",lg:"row"},align:{lg:"flex-start"},children:[(0,D.jsxs)(a.K,{pr:{base:"0",md:"12"},spacing:{base:"8",md:"4"},flex:"1.5",mb:{base:"12",md:"none"},children:[ee.productIsNew&&(0,D.jsx)(u.C,{rounded:"full",w:"40px",fontSize:"0.8em",colorScheme:"green",children:"New"}),0===ee.stock&&(0,D.jsx)(u.C,{rounded:"full",w:"72px",fontSize:"0.8em",colorScheme:"red",children:"Sold out"}),(0,D.jsx)(l.X,{fontSize:"2xl",fontWeight:"extrabold",children:ee.name}),(0,D.jsxs)(a.K,{spacing:5,children:[(0,D.jsxs)(c.xu,{children:[(0,D.jsxs)(d.x,{fontSize:"xl",children:[ee.price," \u20ac"]}),(0,D.jsxs)(p.k,{children:[(0,D.jsx)(z.Z,{value:ee.rating}),(0,D.jsx)(d.x,{fontSize:"md",fontWeight:"bold",ml:"4px",children:"".concat(ee.numberOfReviews," ").concat(1===ee.numberOfReviews?"Review":"Reviews")})]})]}),(0,D.jsx)(d.x,{children:ee.description}),(0,D.jsx)(d.x,{fontWeight:"bold",children:"Quantity"}),(0,D.jsxs)(p.k,{w:"170px",p:"5px",border:"1px",borderColor:"gray.200",alignItems:"center",children:[(0,D.jsx)("button",{style:{padding:"12px 15px ",backgroundColor:"#EDF2F7",borderRadius:"5px",cursor:O<=1?"not-allowed":"pointer"},onClick:function(){return se("minus")},disabled:O<=1,children:(0,D.jsx)(w.ywL,{color:"black"})}),(0,D.jsx)(d.x,{mx:"30px",children:O}),(0,D.jsx)("button",{style:{padding:"12px 15px ",backgroundColor:"#EDF2F7",borderRadius:"5px",cursor:O>=ee.stock?"not-allowed":"pointer"},onClick:function(){return se("plus")},disabled:O>=ee.stock,children:(0,D.jsx)(b.vcu,{})})]}),(0,D.jsx)("button",{onClick:function(){re.some((function(e){return e.id===ee._id}))?$({description:"This item is already in your cart. Go to your cart to change the amount.",status:"error",isClosable:!0}):(M((0,y._7)(ee._id,O)),$({description:"Item has been added",status:"success",isClosable:!0}))},disabled:0===ee.stock,style:{backgroundColor:0===ee.stock?"#F1C4A9":"#DD6B20",padding:"8px 15px ",borderRadius:"5px",color:"white",cursor:0===ee.stock?"not-allowed":"pointer"},children:"Add to cart"}),(0,D.jsxs)(a.K,{width:"270px",children:[(0,D.jsxs)(p.k,{alignItems:"center",children:[(0,D.jsx)(v.biU,{size:"20px"}),(0,D.jsx)(d.x,{fontWeight:"medium",fontSize:"sm",ml:"2",children:"Free shipping if order is above 100 \u20ac"})]}),(0,D.jsxs)(p.k,{alignItems:"center",children:[(0,D.jsx)(v.$lk,{size:"20px"}),(0,D.jsx)(d.x,{fontWeight:"medium",fontSize:"sm",ml:"2",children:"2 years extended warranty"})]}),(0,D.jsxs)(p.k,{alignItems:"center",children:[(0,D.jsx)(v.LVi,{size:"20px"}),(0,D.jsx)(d.x,{fontWeight:"medium",fontSize:"sm",ml:"2",children:"We're here for you 24/7"})]})]})]})]}),(0,D.jsx)(p.k,{direction:"column",align:"center",flex:"1",_dark:{bg:"gray.900"},children:(0,D.jsx)(x.E,{mb:"30px",src:ee.image,alt:ee.name,w:{base:"250px"}})})]}),te&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(f.u,{label:ie()?"You have already reviewed this product. ":"",fontSize:"md",children:(0,D.jsx)("button",{style:{marginBottom:"10px",padding:"8px 15px ",borderRadius:"5px",color:"white",backgroundColor:ie()?"#F1C4A9":"#DD6B20",cursor:ie()?"not-allowed":"pointer"},disabled:ie(),onClick:function(){return L(!U)},children:"Write a review"})}),U&&(0,D.jsxs)(a.K,{mb:"20px",children:[(0,D.jsx)(o.E,{children:(0,D.jsx)(B,{setRating:I,value:H})}),(0,D.jsx)(h.I,{onChange:function(e){T(e.target.value)},placeholder:"Review title (optional)"}),(0,D.jsx)(m.g,{onChange:function(e){S(e.target.value)},placeholder:"The ".concat(ee.name," is...")}),(0,D.jsx)(g.z,{w:"140px",colorScheme:"orange",onClick:function(){M((0,E.nE)(ee._id,te._id,r,H,A))},children:"Publish review"})]})]}),(0,D.jsxs)(a.K,{children:[(0,D.jsx)(d.x,{fontSize:"xl",fontWeight:"bold",children:"Reviews"}),(0,D.jsx)(j.M,{minChildWidth:"300px",spacingX:"40px",spacingY:"20px",children:ee.reviews.length>0?ee.reviews.map((function(e){return(0,D.jsxs)(c.xu,{children:[(0,D.jsx)(z.Z,{value:e.rating}),(0,D.jsx)(c.xu,{py:"12px",children:e.comment}),(0,D.jsxs)(d.x,{fontSize:"sm",color:"gray.400",children:["by ",e.name,", ",new Date(e.createdAt).toDateString()]})]},e._id)})):"No reviews yet..."})]})]})})}},1449:function(e,n,r){r.d(n,{B8:function(){return a},_7:function(){return c},fh:function(){return u},s9:function(){return l}});var t=r(4165),s=r(5861),i=r(1243),o=r(2038),c=function(e,n){return function(){var r=(0,s.Z)((0,t.Z)().mark((function r(s){var c,a,u;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s((0,o.K4)(!0)),r.prev=1,r.next=4,i.Z.get("/api/products/".concat(e));case 4:c=r.sent,a=c.data,u={id:a._id,name:a.name,image:a.image,price:a.price,stock:a.stock,qty:n},s((0,o.zs)(u)),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),s((0,o.sT)(r.t0.response&&r.t0.response.data.message?r.t0.response.data.messsage:r.t0.message?r.t0.message:"An unexpected error has occured. Pleasy try again later."));case 13:case"end":return r.stop()}}),r,null,[[1,10]])})));return function(e){return r.apply(this,arguments)}}()},a=function(e){return function(){var n=(0,s.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r((0,o.K4)(!0)),r((0,o.gX)(e));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},u=function(e){return function(){var n=(0,s.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r((0,o.Yo)(e));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},l=function(){return function(e){e((0,o.LL)())}}},7301:function(e,n,r){r.d(n,{Xp:function(){return c},gk:function(){return a},nE:function(){return u},so:function(){return l}});var t=r(4165),s=r(5861),i=r(1243),o=r(613),c=function(){return function(){var e=(0,s.Z)((0,t.Z)().mark((function e(n){var r,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((0,o.K4)(!0)),e.prev=1,e.next=4,i.Z.get("/api/products");case 4:r=e.sent,s=r.data,n((0,o.RU)(s)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n((0,o.sT)(e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message?e.t0.message:"An unexpected error has occured. Please try again later."));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}()},a=function(e){return function(){var n=(0,s.Z)((0,t.Z)().mark((function n(r){var s,c;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r((0,o.K4)(!0)),n.prev=1,n.next=4,i.Z.get("/api/products/".concat(e));case 4:s=n.sent,c=s.data,r((0,o.Gr)(c)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),r((0,o.sT)(n.t0.response&&n.t0.response.data.message?n.t0.response.data.messsage:n.t0.message?n.t0.message:"An unexpected error has occured. Pleasy try again later."));case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()},u=function(e,n,r,c,a){return function(){var u=(0,s.Z)((0,t.Z)().mark((function s(u,l){var d,p,x;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u((0,o.K4)(!0)),d=l(),p=d.user.userInfo,t.prev=2,x={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p.token)}},t.next=6,i.Z.post("/api/products/reviews/".concat(e),{comment:r,userId:n,rating:c,title:a},x);case 6:u((0,o.GX)()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),u((0,o.sT)(t.t0.response&&t.t0.response.data.message?t.t0.response.data.messsage:t.t0.message?t.t0.message:"An unexpected error has occured. Pleasy try again later."));case 12:case"end":return t.stop()}}),s,null,[[2,9]])})));return function(e,n){return u.apply(this,arguments)}}()},l=function(){return function(){var e=(0,s.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n((0,o.q$)());case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=273.b28bbe3d.chunk.js.map